(()=>{"use strict";const e=document.querySelector(".time"),t=document.querySelector(".date"),n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Suturday"],o=["January","February","March","April","May","June","July","August","September","October","November","December"],a=e=>(e<10?"0":"")+e,s=document.querySelector(".greeting"),r=document.querySelector(".name");const c=document.querySelector("body"),u=document.querySelector(".greeting"),i=document.querySelector(".slide-next"),d=document.querySelector(".slide-prev"),l=["01.jpg","02.jpg","03.jpg","04.jpg","05.jpg","06.jpg","07.jpg","08.jpg","09.jpg","10.jpg","11.jpg","12.jpg","13.jpg","14.jpg","15.jpg","16.jpg","17.jpg","18.jpg","19.jpg","20.jpg"];var g=Math.floor(19*Math.random());function m(){const e=new Image;"Good night"===u.innerHTML?(e.src=`https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/night/${l[g]}`,e.onload=()=>{c.style.backgroundImage=`url('https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/night/${l[g]}')`}):"Good morning"===u.innerHTML?(e.src=`https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/morning/${l[g]}`,e.onload=()=>{c.style.backgroundImage=`url('https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/morning/${l[g]}')`}):"Good afternoon"===u.innerHTML?(e.src=`https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/afternoon/${l[g]}`,e.onload=()=>{c.style.backgroundImage=`url('https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/afternoon/${l[g]}')`}):(e.src=`https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/evening/${l[g]}`,e.onload=()=>{c.style.backgroundImage=`url('https://raw.githubusercontent.com/Bodal-Andrey/stage1-tasks/assets/images/evening/${l[g]}')`})}const p=document.querySelector(".weather-icon"),y=document.querySelector(".temperature"),h=document.querySelector(".weather-description"),w=document.querySelector(".wind"),S=document.querySelector(".humidity"),f=document.querySelector(".city"),v=document.querySelector(".weather-error");function q(){localStorage.setItem("city",f.value)}function b(){""===localStorage.getItem("city")?f.value="Minsk":f.value=localStorage.getItem("city")}async function j(){b();const e=`https://api.openweathermap.org/data/2.5/weather?q=${f.value}&lang=en&appid=3ca653d54c0cdcc67c58cb7b414ce8ef&units=metric`,t=await fetch(e),n=await t.json();"404"===n.code?(v.textContent=n.message,p.className="",y.textContent="",h.textContent="",w.textContent="",S.textContent=""):(v.textContent="",p.className="weather-icon owf",p.classList.add(`owf-${n.weather[0].id}`),y.textContent=`${Math.round(n.main.temp)}Â°C`,h.textContent=n.weather[0].description,w.textContent=`Wind speed: ${Math.round(n.wind.speed)}m/s`,S.textContent=`Humidity: ${n.main.humidity}%`)}const L=document.querySelector(".change-quote"),$=document.querySelector(".quote"),k=document.querySelector(".author");var M=Math.floor(50*Math.random());async function x(){const e=await fetch("https://type.fit/api/quotes"),t=await e.json();$.textContent=`"${t[M].text}"`,k.textContent=t[M].author}const C=document.querySelector(".play-list"),E=document.querySelector(".play"),A=document.querySelector(".play-prev"),I=document.querySelector(".play-next"),D=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3"}],T=new Audio;let B=!1,H=0;function G(){!1===B?(T.src=D[H].src,T.currentTime=0,T.play(),B=!0,E.classList.add("pause")):(T.pause(),B=!1,E.classList.remove("pause"))}(function s(){const r=(new Date).getHours(),c=(new Date).getMinutes(),u=(new Date).getSeconds();e.innerHTML=`${r}<span>:</span>${a(c)}<span>:</span>${a(u)}`,function(){const e=(new Date).getMonth(),a=(new Date).getDay(),s=(new Date).getDate();t.innerHTML=`${n[a]}, ${o[e]} ${s}`}(),setTimeout(s,1e3)})(),function e(){const t=(new Date).getHours();s.textContent=t<6?"Good night":t<12?"Good morhing":t<18?"Good afternoon":"Good evening",setTimeout(e,1e3)}(),window.addEventListener("beforeunload",(function(){localStorage.setItem("user",r.value)})),window.addEventListener("load",(function(){localStorage.getItem("user")&&(r.value=localStorage.getItem("user"))})),m(),d.addEventListener("click",(function(){0===g?g=19:g-=1,m()})),i.addEventListener("click",(function(){19===g?g=0:g+=1,m()})),window.addEventListener("load",b),window.addEventListener("beforeunload",q),j(),f.addEventListener("change",(function(){""!==f.value.trim()?(q(),j(),f.blur()):(j(),f.blur())})),x(),L.addEventListener("click",(function(){50===M?M=0:M+=1,x()})),D.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=e.title,C.append(t)})),E.addEventListener("click",G),A.addEventListener("click",(function(){0===H?H=D.length-1:H-=1,G()})),I.addEventListener("click",(function(){H===D.length-1?H=0:H+=1,G()}))})();